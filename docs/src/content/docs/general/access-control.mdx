---
title: Access Control
description: Understanding roles, permissions, and namespaces in flowctl
---

import { Aside } from "@astrojs/starlight/components";

## Overview

Flowctl implements a comprehensive Role-Based Access Control (RBAC) system that manages user permissions through roles and namespaces. Access control is enforced using [Casbin](https://casbin.org/).

## Key Concepts

Flowctl has two levels of user roles:

1. **Global User Roles** - Applied at the application level
   - **Superuser**: Has admin access to all namespaces and can manage all resources
   - **User**: Standard user with no default permissions (must be granted namespace access)

2. **Namespace Roles** - Applied within specific namespaces
   - **User**: Can view and execute flows
   - **Reviewer**: Can view flows, executions, and approve flow actions
   - **Admin**: Full control over namespace resources

<Aside type="note">
  The global "superuser" role automatically grants admin access to all
  namespaces. All other users must be explicitly assigned to namespaces with
  specific roles.
</Aside>

## Namespaces

Namespaces are logical containers that organize and isolate resources in flowctl. Each namespace can contain:

- Flows
- Executions
- Nodes (remote servers)
- Credentials
- Secrets
- Members (users and groups with roles)

### Why Use Namespaces?

- **Organization**: Separate flows by project, team, or environment
- **Access Control**: Control who can access and modify resources
- **Isolation**: Prevent accidental interference between different teams or projects

### Default Namespace

When you first install flowctl, a `default` namespace is automatically created. You can organize your flows into additional namespaces as needed.

## Namespace Roles and Permissions

### User Role

The **User** role is the most restrictive namespace role, suitable for team members who need to run flows but not modify them.

**Permissions:**

- ✓ View flows
- ✓ Execute flows
- ✓ View executions
- ✓ View namespace information
- ✓ View namespace members
- ✗ Create, update, or delete flows
- ✗ Approve flow actions
- ✗ Manage nodes, credentials, or secrets
- ✗ Manage namespace members

**Use case:** Developers or operators who need to trigger existing flows but shouldn't modify anything.

### Reviewer Role

The **Reviewer** role inherits all User permissions and adds approval capabilities, suitable for team leads.

**Permissions:**

- ✓ All User role permissions
- ✓ View approval requests
- ✓ Approve or reject flow actions
- ✗ Create, update, or delete flows
- ✗ Manage nodes, credentials, or secrets
- ✗ Manage namespace members

**Use case:** Team leads who need to approve production deployments or critical operations.

### Admin Role

The **Admin** role has full control over all resources within a namespace.

**Permissions:**

- ✓ All Reviewer role permissions
- ✓ Create, update, and delete flows
- ✓ View, create, update, and delete nodes
- ✓ View, create, update, and delete credentials
- ✓ View, create, update, and delete secrets
- ✓ Add and remove namespace members
- ✓ Update member roles

**Use case:** Administrators who manage the namespace for their team.

<Aside type="caution">
  Admin users can manage all resources within their namespace, including
  sensitive credentials and secrets. Grant this role carefully.
</Aside>

## Permission Matrix

Here's a complete breakdown of what each namespace role can do:

| Resource        | User | Reviewer | Admin |
| --------------- | ---- | -------- | ----- |
| **Flows**       |
| View            | ✓    | ✓        | ✓     |
| Create          | ✗    | ✗        | ✓     |
| Update          | ✗    | ✗        | ✓     |
| Delete          | ✗    | ✗        | ✓     |
| Execute         | ✓    | ✓        | ✓     |
| **Executions**  |
| View            | ✓    | ✓        | ✓     |
| **Approvals**   |
| View            | ✗    | ✓        | ✓     |
| Approve/Reject  | ✗    | ✓        | ✓     |
| **Nodes**       |
| View            | ✗    | ✗        | ✓     |
| Create          | ✗    | ✗        | ✓     |
| Update          | ✗    | ✗        | ✓     |
| Delete          | ✗    | ✗        | ✓     |
| **Credentials** |
| View            | ✗    | ✗        | ✓     |
| Create          | ✗    | ✗        | ✓     |
| Update          | ✗    | ✗        | ✓     |
| Delete          | ✗    | ✗        | ✓     |
| **Secrets**     |
| View            | ✗    | ✗        | ✓     |
| Create          | ✗    | ✗        | ✓     |
| Update          | ✗    | ✗        | ✓     |
| Delete          | ✗    | ✗        | ✓     |
| **Members**     |
| View            | ✓    | ✓        | ✓     |
| Add             | ✗    | ✗        | ✓     |
| Update Role     | ✗    | ✗        | ✓     |
| Remove          | ✗    | ✗        | ✓     |

## Managing Namespace Members

### Adding Members to a Namespace

Namespace admins can add users or groups to their namespace:

1. Navigate to the namespace settings
2. Go to the "Members" section
3. Click "Add Member"
4. Select the user or group
5. Assign a role (User, Reviewer, or Admin)
6. Save

### Updating Member Roles

To change a member's role within a namespace:

1. Navigate to namespace settings → Members
2. Find the member in the list
3. Click "Edit" or the role dropdown
4. Select the new role
5. Save the changes

### Removing Members

To remove a member from a namespace:

1. Navigate to namespace settings → Members
2. Find the member to remove
3. Click "Remove" or the delete icon
4. Confirm the action

<Aside>
  Removing a member from a namespace immediately revokes all their permissions
  within that namespace. They can no longer view or interact with any resources.
</Aside>

## Groups

Flowctl supports groups for easier permission management. Instead of assigning roles to individual users, you can:

1. Create a group (e.g., "DevOps Team", "QA Team")
2. Add users to the group
3. Assign the group to namespaces with specific roles

When a user is added to a group, they automatically inherit all namespace access that the group has.

**Benefits:**

- Simplified management for teams
- Easier onboarding/offboarding
- Consistent permissions across team members
- Integration with OIDC group claims

## Authentication

### Admin User

The initial admin user configured in `config.toml` can authenticate using username and password. This user automatically has the "superuser" global role.

```toml
[app]
  admin_username = "admin"
  admin_password = "secure_password"
```

<Aside type="caution">
  Only the admin user can use username/password authentication. All other users
  must use OIDC.
</Aside>

### OIDC Authentication

All non-admin users authenticate via OpenID Connect (OIDC). Configure OIDC in your `config.toml`:

```toml
[app.oidc]
  client_id = "your-client-id"
  client_secret = "your-client-secret"
  issuer = "https://your-oidc-provider.com/"
```
